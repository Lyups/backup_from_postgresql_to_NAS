# Скрипт резервного копирования баз данных
# Only for LINUX !!!
Этот скрипт позволяет создавать резервные копии баз данных PostgreSQL и загружать их на несколько NAS-устройства. Поддерживает два режима работы: создание текстовых дампов (`sql`) и создание бинарных архивов (`backup`).

## Настройка

1. **Переменные окружения**:
   - `LOG_FILE`: Путь к лог-файлу (по умолчанию: `logs/backupAll_dev_edit.log`)
   - `LOCAL_BACKUP_DIR`: Локальный каталог для хранения резервных копий (по умолчанию: `local_backups`)
   - `DAYS_OLD`: Время хранения локальных резервных копий в днях (по умолчанию: 7)
   - `DB_NAMES`: Массив имен баз данных для резервного копирования ( по умолчанию: `("fortest")`)

2. **NAS-настройки**:
   - `NAS_SHARES`: Массив сетевых шаров NAS в формате `//host/share`
   - `MOUNT_POINTS`: Массив точек монтирования для NAS
   - `CREDENTIAL_FILES`: Массив файлов с учетными данными для доступа к NAS (формат: `username=login\npassword=pass`)

3. **Права доступа**:
   - Убедитесь, что у пользователя, от имени которого запускается скрипт, есть права на чтение/запись в указанные каталоги
   - Файлы с учетными данными NAS (`CREDENTIAL_FILES`) должны иметь ограниченные права доступа (рекомендуется `600`)

## Использование

### Аргументы
Скрипт принимает один обязательный аргумент:
- `sql` - создание текстовых дампов баз данных
- `backup` - создание бинарных архивов баз данных

### Примеры запуска
```bash
# Создание текстовых дампов
./backup_script.sh sql

# Создание бинарных архивов
./backup_script.sh backup
